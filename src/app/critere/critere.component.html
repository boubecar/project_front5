<div class="full_container">
	<div class="inner_container">

		<app-nav></app-nav>
		<div class="container">
                       
				 <div class="full graph_head"  style="margin-top: -5%; margin-bottom: 1%;">
					<div class="heading1 ">
						<h2>Gestion des criteres d'evaluations
						</h2>
					</div>


				</div>

			
			<nav class="navbar navbar-expand-sm bg-light" style="width:85%; margin-left: 72px; margin-top: 30px;margin-bottom: -6%;background-color: transparent;">
				<ul class="navbar-nav" style="margin-left: 380px;">
					<li class="nav-item">
						<input type="search" style=" width: 200px;margin-top: 5px;" class="form-control" placeholder="Filter Critére" name="criterelabel" [(ngModel)]="criterelabel" (ngModelChange)="Search()">&nbsp; 
						
						</li>
						
						<li class="nav-item">
						<i style="font-size: large;margin-top: 9px; padding-left: 40%; padding-right: 40%;" class="fa-solid fa-magnifying-glass" (click)="Search()"></i>
												
							</li>&nbsp; &nbsp; &nbsp;
					<li class="nav-item">
						
						<button routerLink="/gnorme" class="fa fa-arrow-left btn btn-outline-primary float-right m-2">
							 &nbsp; Norme
						</button>
						</li>
					<li class="nav-item">
						<button type="button" class="fa fa-plus btn btn-outline-primary float-right m-2" data-toggle="modal" data-target="#exampleModal" data-backdrop="static" data-keyboard="false" (click)="open()">
							 Ajouter 
						</button>
						</li>
						
				</ul>
			</nav>

			<!-- Modal -->
			<div  class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-xl" role="document">
					<div class="modal-content" style=" width: 350px;margin-left: 30%;">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel" style="color: #0275d8;">Critére </h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="card" style="width: 320px;">

								<div class="card-body">
									<form (ngSubmit)="saveData()" [formGroup]="formCum">
										<div class="form-row">
											<input type="hidden" formcontrolname="critereId">
											<div class="col-md-6 mb-3" >
												<div class="form-group">
												<label style="width: 300px; margin-left: 5%;">Enter le critere:
												</label>
												<input type="text" class="form-control" class="form-control input-sm" placeholder="Nom" id="" formControlName="criterelabel" style="width: 250px; margin-left: 5px;" 
												[ngClass]="
												( formCum.controls['criterelabel'].touched ||
												 formCum.controls['criterelabel'].dirty) &&
												 formCum.controls['criterelabel'].hasError('required')
												? 'is-invalid'
												: ''|| ( formCum.controls['criterelabel'].touched ||
												 formCum.controls['criterelabel'].dirty) &&
													! formCum.controls['criterelabel'].invalid
												? 'is-valid'
												: ''
												"> 
												<div style="margin-left: 6%;" class="invalid-feedback">la designation de critére est obligatoire</div>
											</div>
											</div>

										</div>
										<input type="hidden" formcontrolname="normeId">

										<button type="button" class="btn btn-primary " style="margin-left: 40px;" type="submit">Enregistrer 
										</button>
										<button type="button" class="btn btn-secondary" style="margin-left: 140px; margin-top: -19%;" data-dismiss="modal">Fermer</button>

									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="">
			<table class="table " id="center" style="width: 85%;">
				<thead class="table-success" style="background-color: #CAF0F8
				;">
					<tr>
						<th>CritereName</th>
						<th >Options</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let dataItem of CritereService.CritereList |orderBy: key: reverse | paginate: {itemsPerPage: 5 , currentPage : p} ;">
						
						<td>{{dataItem.criterelabel}}</td>
						
						<td style="width:20%;">
							<button type="button" class="fa-solid fa-trash-can btn btn-outline-danger btn-xs"  (click)="deleteClick(dataItem)" data-backdrop="static" data-keyboard="false" >                
							</button> &nbsp;
						
							<button type="button" class="btn btn-xs" class=" fa-solid fa-pen-to-square btn btn-outline-secondary mr-1" data-toggle="modal" data-target="#exampleModal" (click)="ChangeData(dataItem)"></button>&nbsp;
				

						</td>
					</tr>
				</tbody>
				<pagination-controls (pageChange)="p = $event" previousLabel="" nextLabel=""></pagination-controls>

			</table>
			</div>
		</div>
	</div>
